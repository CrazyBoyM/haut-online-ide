import{m as A}from"./@emotion.6322e2ae.js";function $(n){let e=0;for(let t=0;t<n.length;++t)n[t]==="&"&&++e;return e}const y=/\s*,(?![^(]*\))\s*/g,v=/\s+/g;function _(n,e){const t=[];return e.split(y).forEach(r=>{let u=$(r);if(u){if(u===1){n.forEach(f=>{t.push(r.replace("&",f))});return}}else{n.forEach(f=>{t.push((f&&f+" ")+r)});return}let i=[r];for(;u--;){const f=[];i.forEach(o=>{n.forEach(s=>{f.push(o.replace("&",s))})}),i=f}i.forEach(f=>t.push(f))}),t}function b(n,e){const t=[];return e.split(y).forEach(r=>{n.forEach(u=>{t.push((u&&u+" ")+r)})}),t}function j(n){let e=[""];return n.forEach(t=>{t=t&&t.trim(),!!t&&(t.includes("&")?e=_(e,t):e=b(e,t))}),e.join(", ").replace(v," ")}const R=/[A-Z]/g;function x(n){return n.replace(R,e=>"-"+e.toLowerCase())}function q(n,e="  "){return typeof n=="object"&&n!==null?` {
`+Object.entries(n).map(t=>e+`  ${x(t[0])}: ${t[1]};`).join(`
`)+`
`+e+"}":`: ${n};`}function S(n,e,t){return typeof n=="function"?n({context:e.context,props:t}):n}function E(n,e,t,r){if(!e)return"";const u=S(e,t,r);if(!u)return"";if(typeof u=="string")return`${n} {
${u}
}`;const i=Object.keys(u);if(i.length===0)return t.config.keepEmptyBlock?n+` {
}`:"";const f=n?[n+" {"]:[];return i.forEach(o=>{const s=u[o];if(o==="raw"){f.push(`
`+s+`
`);return}o=x(o),s!=null&&f.push(`  ${o}${q(s)}`)}),n&&f.push("}"),f.join(`
`)}function m(n,e,t){!n||n.forEach(r=>{if(Array.isArray(r))m(r,e,t);else if(typeof r=="function"){const u=r(e);Array.isArray(u)?m(u,e,t):u&&t(u)}else r&&t(r)})}function g(n,e,t,r,u,i){const f=n.$;!f||typeof f=="string"?e.push(f):typeof f=="function"?e.push(f({context:r.context,props:u})):(f.before&&f.before(r.context),!f.$||typeof f.$=="string"?e.push(f.$):f.$&&e.push(f.$({context:r.context,props:u})));const o=j(e),s=E(o,n.props,r,u);i&&s&&i.insertRule(s),!i&&s.length&&t.push(s),n.children&&m(n.children,{context:r.context,props:u},l=>{if(typeof l=="string"){const c=E(o,{raw:l},r,u);i?i.insertRule(c):t.push(c)}else g(l,e,t,r,u,i)}),e.pop(),f&&f.after&&f.after(r.context)}function C(n,e,t,r=!1){const u=[];return g(n,[],u,e,t,r?n.instance.__styleSheet:void 0),r?"":u.join(`

`)}function w(n){if(!n)return;const e=n.parentElement;e&&e.removeChild(n)}function h(n){return document.querySelector(`style[cssr-id="${n}"]`)}function k(n){const e=document.createElement("style");return e.setAttribute("cssr-id",n),e}typeof window!="undefined"&&(window.__cssrContext={});function L(n,e,t){const{els:r}=e;if(t===void 0)r.forEach(w),e.els=[];else{const u=h(t);u&&r.includes(u)&&(w(u),e.els=r.filter(i=>i!==u))}}function B(n,e){n.push(e)}function O(n,e,t,r,u,i,f,o){var s;if(i&&!o){if(t===void 0){console.error("[css-render/mount]: `id` is required in `slient` mode.");return}const d=window.__cssrContext;d[t]||(d[t]=!0,C(e,n,r,i));return}let l;if(t===void 0&&(l=e.render(r),t=A(l)),o){o.adapter(t,l!=null?l:e.render(r));return}const c=h(t);if(c!==null&&!f)return c;const a=c!=null?c:k(t);if(l===void 0&&(l=e.render(r)),a.textContent=l,c!==null)return c;if(u){const d=(s=document.head.querySelector("style, link"))!==null&&s!==void 0?s:null;document.head.insertBefore(a,d)}else document.head.appendChild(a);return B(e.els,a),c!=null?c:a}function T(n){return C(this,this.instance,n)}function W(n={}){const{id:e,ssr:t,props:r,head:u=!1,slient:i=!1,force:f=!1}=n;return O(this.instance,this,e,r,u,i,f,t)}function M(n={}){const{id:e}=n;L(this.instance,this,e)}const p=function(n,e,t,r){return{instance:n,$:e,props:t,children:r,els:[],render:T,mount:W,unmount:M}},U=function(n,e,t,r){return Array.isArray(e)?p(n,{$:null},null,e):Array.isArray(t)?p(n,e,null,t):Array.isArray(r)?p(n,e,t,r):p(n,e,t,null)};function z(n={}){let e=null;const t={c:(...r)=>U(t,...r),use:(r,...u)=>r.install(t,...u),find:h,context:{},config:n,get __styleSheet(){if(!e){const r=document.createElement("style");return document.head.appendChild(r),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return t}function D(n,e){if(n===void 0)return!1;if(e){const{context:{ids:t}}=e;return t.has(n)}return h(n)!==null}export{z as C,D as e};
