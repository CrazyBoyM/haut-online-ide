import{a as o,o as i}from"./evtd.5b1ed12a.js";const r="@@mmoContext",x={mounted(n,{value:e}){n[r]={handler:void 0},typeof e=="function"&&(n[r].handler=e,o("mousemoveoutside",n,e))},updated(n,{value:e}){const t=n[r];typeof e=="function"?t.handler?t.handler!==e&&(i("mousemoveoutside",n,t.handler),t.handler=e,o("mousemoveoutside",n,e)):(n[r].handler=e,o("mousemoveoutside",n,e)):t.handler&&(i("mousemoveoutside",n,t.handler),t.handler=void 0)},unmounted(n){const{handler:e}=n[r];e&&i("mousemoveoutside",n,e),n[r].handler=void 0}};var z=x;const c="@@coContext",f={mounted(n,{value:e}){n[c]={handler:void 0},typeof e=="function"&&(n[c].handler=e,o("clickoutside",n,e))},updated(n,{value:e}){const t=n[c];typeof e=="function"?t.handler?t.handler!==e&&(i("clickoutside",n,t.handler),t.handler=e,o("clickoutside",n,e)):(n[c].handler=e,o("clickoutside",n,e)):t.handler&&(i("clickoutside",n,t.handler),t.handler=void 0)},unmounted(n){const{handler:e}=n[c];e&&i("clickoutside",n,e),n[c].handler=void 0}};var g=f;function m(n,e){console.error(`[vdirs/${n}]: ${e}`)}class I{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,t){const{elementZIndex:d}=this;if(t!==void 0){e.style.zIndex=`${t}`,d.delete(e);return}const{nextZIndex:s}=this;d.has(e)&&d.get(e)+1===this.nextZIndex||(e.style.zIndex=`${s}`,d.set(e,s),this.nextZIndex=s+1,this.squashState())}unregister(e){const{elementZIndex:t}=this;t.has(e)?t.delete(e):m("vdirs/z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((t,d)=>t[1]-d[1]),this.nextZIndex=2e3,e.forEach(t=>{const d=t[0],s=this.nextZIndex++;`${s}`!==d.style.zIndex&&(d.style.zIndex=`${s}`)})}}var a=new I;const u="@@ziContext",l={mounted(n,e){const{value:t={}}=e,{zIndex:d,enabled:s}=t;a.ensureZIndex(n,d),n[u]={enabled:s}},updated(n,e){const{value:t={}}=e,{zIndex:d,enabled:s}=t,h=n[u].enabled;s&&!h&&a.ensureZIndex(n,d),n[u].enabled=s},unmounted(n){a.unregister(n)}};var y=l;export{g as c,z as m,y as z};
